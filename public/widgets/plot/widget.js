
function _typeof(_0x569b40) {
  var _0x29c9a6 = {
    'cRDrB': function (_0x37f97a, _0x2c6cf7) {
      return _0x37f97a == _0x2c6cf7
    }, 'DZWWz': 'function', 'CLRRr': function (_0xe90e63, _0x55d120) {
      return _0xe90e63 === _0x55d120
    }, 'YKbhH': function (_0x1cf17e, _0x31d924) {
      return _0x1cf17e !== _0x31d924
    }, 'QTlFE': 'symbol', 'hulhl': 'TicXo'
  }
  return (_typeof = _0x29c9a6['DZWWz'] == typeof Symbol && _0x29c9a6.cRDrB('symbol', typeof Symbol['iterator']) ? function (_0x4d0c0e) {
    return typeof _0x4d0c0e
  } : function (_0xaa1046) {
    if (_0x29c9a6.YKbhH(_0x29c9a6.hulhl, _0x29c9a6['hulhl'])) {
      return _0xaa1046 && _0x29c9a6.cRDrB(_0x29c9a6['DZWWz'], typeof Symbol) && _0x29c9a6.CLRRr(_0xaa1046.constructor, Symbol) && _0x29c9a6.YKbhH(_0xaa1046, Symbol.prototype) ? _0x29c9a6.QTlFE : typeof _0xaa1046
    } else {
      return _0xaa1046 && _0x29c9a6.cRDrB(_0x29c9a6.DZWWz, typeof Symbol) && _0xaa1046.constructor === Symbol && _0xaa1046 !== Symbol['prototype'] ? 'symbol' : typeof _0xaa1046
    }
  })(_0x569b40)
}

function _classCallCheck(_0x1c985d, _0x38007c) {
  var _0x4d9c0f = {
    'fMpPz': function (_0x3c5364, _0xaa3b63) {
      return _0x3c5364 instanceof _0xaa3b63
    }, 'xttdX': 'Cannot call a class as a function'
  }
  if (!_0x4d9c0f.fMpPz(_0x1c985d, _0x38007c)) throw new TypeError(_0x4d9c0f.xttdX)
}

function _defineProperties(_0x2c305d, _0x5b1217) {
  for (var i = 0; i < _0x5b1217.length; i++) {
    var _0x51e1e3 = _0x5b1217[i]
    _0x51e1e3.enumerable = _0x51e1e3.enumerable || !1, _0x51e1e3['configurable'] = !0,
    ('value' in  _0x51e1e3) && (_0x51e1e3.writable = !0),
      Object['defineProperty'](_0x2c305d, _0x51e1e3.key, _0x51e1e3)
  }
}

function _createClass(_0x2ca0e3, _0x57d03a, _0x251918) {
  return _0x57d03a && _defineProperties(_0x2ca0e3['prototype'], _0x57d03a), _0x251918 && _defineProperties(_0x2ca0e3, _0x251918), _0x2ca0e3
}

function _inherits(_0x1f3f37, _0x31f8e4) {
  var _0x5924c8 = {
    'nTGcQ': 'function', 'OLEaM': function (_0x159427, _0x5f5cdc) {
      return _0x159427 !== _0x5f5cdc
    }, 'xxpgZ': 'Super expression must either be null or a function', 'AQkJR': function (_0xbfa45c, _0xee62e1, _0x281451) {
      return _0xbfa45c(_0xee62e1, _0x281451)
    }
  }
  if (_0x5924c8.nTGcQ != typeof _0x31f8e4 && _0x5924c8.OLEaM(null, _0x31f8e4)) throw new TypeError(_0x5924c8.xxpgZ)
  _0x1f3f37.prototype = Object.create(_0x31f8e4 && _0x31f8e4.prototype, {
    'constructor': {
      'value': _0x1f3f37,
      'writable': !0x0,
      'configurable': !0x0
    }
  }), _0x31f8e4 && _0x5924c8['AQkJR'](_setPrototypeOf, _0x1f3f37, _0x31f8e4)
}

function _setPrototypeOf(_0x5be915, _0x4ef634) {
  return (_setPrototypeOf = Object.setPrototypeOf || function (_0x393fc1, _0x11451d) {
    return _0x393fc1.__proto__ = _0x11451d, _0x393fc1
  })(_0x5be915, _0x4ef634)
}

function _createSuper(_0x457b3b) {
  var _0x35859a = {
    'GYxOT': function (_0x2c57e7, _0x3af0a8, _0xeaa2c3) {
      return _0x2c57e7(_0x3af0a8, _0xeaa2c3)
    }, 'kcsjS': function (_0x18333a, _0x2489ec) {
      return _0x18333a(_0x2489ec)
    }, 'RQuNS': function (_0x1f2a79) {
      return _0x1f2a79()
    }
  }
  var _0x56dca6 = _0x35859a['RQuNS'](_isNativeReflectConstruct)
  return function () {
    var _0x5868b3, _0x4763c1 = _getPrototypeOf(_0x457b3b)
    return _0x35859a['GYxOT'](_possibleConstructorReturn, this, _0x56dca6 ? (_0x5868b3 = _0x35859a.kcsjS(_getPrototypeOf, this).constructor, Reflect.construct(_0x4763c1, arguments, _0x5868b3)) : _0x4763c1.apply(this, arguments))
  }
}

function _possibleConstructorReturn(_0x42866b, _0x542537) {
  var _0x532e11 = {
    'RtfEY': function (_0x1395c4, _0x2bd382) {
      return _0x1395c4 !== _0x2bd382
    }, 'ICCtu': 'object', 'gftUV': function (_0x5d2eae, _0x23fceb) {
      return _0x5d2eae(_0x23fceb)
    }, 'oCfuY': function (_0x30feb6, _0x5981f0) {
      return _0x30feb6 != _0x5981f0
    }
  }
  return !_0x542537 || _0x532e11.RtfEY(_0x532e11.ICCtu, _0x532e11.gftUV(_typeof, _0x542537)) && _0x532e11.oCfuY('function', typeof _0x542537) ? _0x532e11.gftUV(_assertThisInitialized, _0x42866b) : _0x542537
}

function _assertThisInitialized(_0x27ba4e) {
  var _0x18d0fc = {
    'oOaoz': function (_0x4e8d11, _0x4ec081) {
      return _0x4e8d11 === _0x4ec081
    }
  }
  if (_0x18d0fc.oOaoz(void 0x0, _0x27ba4e)) throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')
  return _0x27ba4e
}

function _isNativeReflectConstruct() {
  var _0xc8a1bc = {
    'Mupkm': function (_0x175168, _0x524e37) {
      return _0x175168 == _0x524e37
    }
  }
  if ('undefined' == typeof Reflect || !Reflect['construct']) return !0x1
  if (Reflect.construct.sham) return !0x1
  if (_0xc8a1bc.Mupkm('function', typeof Proxy)) return !0x0
  try {
    return Boolean.prototype.valueOf['call'](Reflect.construct(Boolean, [], function () {
    })), !0x0
  } catch (_0xebccb4) {
    return !0x1
  }
}

function _getPrototypeOf(_0x2bb20c) {
  var _0xbc7e44 = {
    'FTCBO': function (_0x3c5cc2, _0x4f57df) {
      return _0x3c5cc2 === _0x4f57df
    }, 'bEibs': 'DIBLn'
  }
  return (_getPrototypeOf = Object['setPrototypeOf'] ? Object.getPrototypeOf : function (_0x5ee3a8) {
    if (_0xbc7e44.FTCBO(_0xbc7e44.bEibs, 'JyabV')) {
      return i.graphicGroupLayer.hasLayer(_0x5ee3a8, t)
    } else {
      return _0x5ee3a8['__proto__'] || Object.getPrototypeOf(_0x5ee3a8)
    }
  })(_0x2bb20c)
}

!function (window, _0x570039) {
  var _0x4df429 = {
    'mwLqR': function (_0x555b87, _0x318ce4) {
      return _0x555b87 !== _0x318ce4
    },
    'HdFiF': 'JyNfC',
    'UxvgL': 'MSVau',
    'KUuph': 'window',
    'MeIko': 'view.html',
    'UrdXX': function (_0x1f61a4, _0xfc8527) {
      return _0x1f61a4 === _0xfc8527
    },
    'MIhgy': 'zTzAZ',
    'IrreO': 'ukjNv',
    'pnDVM': 'model',
    'qPEai': 'point',
    'aAwCn': 'billboard',
    'NBPiT': '开始绘制',
    'OsOYl': function (_0x2fe11b, _0x18ed2b) {
      return _0x2fe11b(_0x18ed2b)
    },
    'bRMtc': '.mars3d-popup-edititem',
    'HeRxW': '.mars3d-popup-btn',
    'ySTdq': function (_0x24b2e3, _0x256a2d) {
      return _0x24b2e3 !== _0x256a2d
    },
    'tIMdH': 'iBjHT',
    'xIPfn': function (_0x38de71, _0x4ae9ea, _0x491779) {
      return _0x38de71(_0x4ae9ea, _0x491779)
    },
    'LKRri': 'celqE',
    'XORRh': function (_0x177062, _0x387b72) {
      return _0x177062 == _0x387b72
    },
    'QlmHI': '当前未标绘任何数据！',
    'uOBow': 'MMddHHmmss',
    'jqxSG': function (_0x1be41c, _0x5f38ce) {
      return _0x1be41c + _0x5f38ce
    },
    'XFFEc': function (_0x4747ed, _0x51ed86) {
      return _0x4747ed + _0x51ed86
    },
    'njHMl': function (_0x486b00, _0x2f5497) {
      return _0x486b00 == _0x2f5497
    },
    'qtpjJ': '加载历史缓存数据',
    'wGtCD': 'XfkDd',
    'DMIHY': 'cDECS',
    'kRLcO': function (_0x4c438a, _0x516e36) {
      return _0x4c438a + _0x516e36
    },
    'pVRXe': function (_0x122b71, _0x5af0e2) {
      return _0x122b71 + _0x5af0e2
    },
    'nEnWv': 'AYovi',
    'zTNJx': 'WPQrM',
    'HZfJx': 'NpLhA',

    'NChLk': 'js/getGraphicDefStyle.js',
    'LvxFV': './lib/kml/kml-geojson.js',
    'lGlOf': './lib/dom2img/dom-to-image.js',
    'WLuyr': 'ljYEp',
    'wbSIZ': 'data-type',
    'tgvUS': 'pgzfs',
    'MuVuZ': function (_0x5afeed, _0x41089b) {
      return _0x5afeed !== _0x41089b
    },
    'Xfasa': 'vQsMi',
    'JcRHn': 'fa fa-trash-o',
    'nzLSj': '属性编辑',
    'aVmBU': 'name',
    'aafKv': 'remark',
    'vkMMG': 'textarea',
    'IfKIc': 'button',
    'lyDjM': 'LuPuY',
    'LsTVc': function (_0x50f776, _0x4dcac8) {
      return _0x50f776 === _0x4dcac8
    },
    'lTqgl': 'lMTrF',
    'HkUbw': 'YlNre',
    'FYPyF': function (_0x2f5385, _0x31ecfc) {
      return _0x2f5385 == _0x31ecfc
    },
    'xJsxz': 'symbol',
    'OWXfG': function (_0x1c812e, _0x318a79) {
      return _0x1c812e == _0x318a79
    },
    'KZJzx': 'Mars3D标绘数据',
    'hFmCS': 'Mars3D标绘数据文件',
    'lDYUd': 'uKJxY',
    'xIYui': 'prwSA',
    'OnPfZ': function (_0x21d956, _0x4dc2df) {
      return _0x21d956 < _0x4dc2df
    },
    'DsFTo': function (_0x442dc1, _0x548a00) {
      return _0x442dc1 in _0x548a00
    },
    'oiAwX': 'yravT',
    'GxQZK': function (_0x9fff1f, _0x1bcfbc) {
      return _0x9fff1f < _0x1bcfbc
    },
    'RcWlZ': 'label',
    'rQeHm': function (_0x2dce9e, _0x5735bd) {
      return _0x2dce9e != _0x5735bd
    },
    'fmpoC': 'plot',
    'ukGwB': function (_0x1986f5, _0x212908) {
      return _0x1986f5 < _0x212908
    },
    'hYFzV': '不能删除所有图层，需要至少保留1个图层！',
    'XkgAK': function (_0x17b31d) {
      return _0x17b31d()
    },
    'vZSGw': '标绘数据 by mars3d.cn',
    'sStwH': function (_0x33e495, _0x3d5b6e) {
      return _0x33e495 === _0x3d5b6e
    },
    'GPLdT': 'KUpHF',
    'Oppwr': '重命名分组',
    'BHxVh': 'CfiSr',
    'pATiT': 'yeCWP',
    'ayetj': 'hiZDG',
    'hvuUb': 'ywrYP',
    'JqHtS': 'resources',
    'GZnyc': 'view',
    'KQxHD': 'create',
    'vcKeE': 'winCreateOK',
    'rdmHj': 'activate',
    'LkjiA': 'getDefStyle',
    'czzgx': 'hasEdit',
    'jynXk': 'hasPopup',
    'NNnEI': 'startDraw',
    'uCZgH': 'endDraw',
    'RvOwP': 'startEditing',
    'RTdUU': 'stopEditing',
    'mVJae': 'getGeoJson',
    'DbNMR': 'toKml',
    'mxdwu': 'downloadKml',
    'lWJpd': 'deleteAll',
    'qUCWn': 'query',
    'bnYuN': 'checkRemoveGroup',
    'auXUk': 'deleteLayer',
    'PAkfV': 'deleteEmptyLayer',
    'eATVk': 'editGroupName',
    'hsMcR': 'sendSaveEntity',
    'qpdTV': 'sendDeleteEntity',
    'KYzhK': 'sendDeleteAll'
  }
  var _0xa6fedf = function () {
    var _0x5c3067 = {
      'vZlyy': _0x4df429['NChLk'],
      'RWPTu': _0x4df429['LvxFV'],
      'hCrmb': _0x4df429.lGlOf,
      'ApwSO': 'jZZll',
      'dqyMo': _0x4df429['WLuyr'],
      'kDvgd': _0x4df429.wbSIZ,
      'uJlTS': _0x4df429['tgvUS'],
      'EfmeR': function (_0x62b272, _0x514a6b) {
        return (_0x62b272!== _0x514a6b)
      },
      'RXOCo': _0x4df429['Xfasa'],
      'nkmYA': '删除对象',
      'VFdGo': _0x4df429.JcRHn,
      'xkHfN': function (_0x237d6e, _0x5eea57) {
        return _0x237d6e(_0x5eea57)
      },
      'NZhbT': _0x4df429.nzLSj,
      'ocoau': _0x4df429['aVmBU'],
      'Vmhvz': _0x4df429['aafKv'],
      'xRXiB': _0x4df429['vkMMG'],
      'CiXPL': _0x4df429.IfKIc,
      'wFLOd': function (_0x2d765f, _0x4394fb) {
        return _0x4df429['UrdXX'](_0x2d765f, _0x4394fb)
      },
      'OWbzv': _0x4df429.lyDjM,
      'ceJYm': 'LRYOC',
      'svYva': function (_0x1c3c5b, _0x2bedc8) {
        return _0x4df429.LsTVc(_0x1c3c5b, _0x2bedc8)
      },
      'JErqT': _0x4df429.lTqgl,
      'vGdWB': _0x4df429.HkUbw,
      'oFmBZ': function (_0x264487, _0x1b5266) {
        return _0x4df429.FYPyF(_0x264487, _0x1b5266)
      },
      'TdTuK': 'function',
      'LQPUa': _0x4df429.xJsxz,
      'juwfj': function (_0x3654b3, _0x13f928) {
        return _0x4df429.OWXfG(_0x3654b3, _0x13f928)
      },
      'oKcUT': 'EQsxZ',
      'RRdgA': function (_0x824873, _0x1e6836) {
        return _0x824873 == _0x1e6836
      },
      'AMKru': _0x4df429.KZJzx,
      'nAwZz': _0x4df429.hFmCS,
      'hjext': function (_0x2e0b06, _0x40cb0b, _0x223829) {
        return _0x2e0b06(_0x40cb0b, _0x223829)
      },
      'UySJt': _0x4df429.lDYUd,
      'Ogsnx': _0x4df429.xIYui,
      'onxle': function (_0x374994, _0x61bd8f) {
        return _0x4df429['OnPfZ'](_0x374994, _0x61bd8f)
      },
      'xGhQb': function (_0x2ebfe4, _0x15a5a8) {
        return _0x4df429['DsFTo'](_0x2ebfe4, _0x15a5a8)
      },
      'PUAqA': function (_0x2cab94, _0x370160) {
        return _0x2cab94 === _0x370160
      },
      'YpJTp': _0x4df429['oiAwX'],
      'IfbEu': function (_0x284c7b, _0x18d1fa) {
        return _0x4df429.GxQZK(_0x284c7b, _0x18d1fa)
      },
      'YIzPW': 'LyFIM',
      'WgEOx': _0x4df429['RcWlZ'],
      'vEyKC': function (_0x24d989, _0x503edd) {
        return _0x4df429.rQeHm(_0x24d989, _0x503edd)
      },
      'PKlDh': '标绘 - ',
      'HnwQy': _0x4df429.fmpoC,
      'dJpYq': function (_0x26aeb1, _0x1b13cf) {
        return _0x4df429.ukGwB(_0x26aeb1, _0x1b13cf)
      },
      'MSLRw': _0x4df429.hYFzV,
      'GfSDp': function (_0x20ee4, _0x436887) {
        return _0x20ee4(_0x436887)
      },
      'NdCke': function (_0x1642bf) {
        return _0x4df429['XkgAK'](_0x1642bf)
      },
      'dThtB': function (_0x3fae51, _0x40ac4a) {
        return _0x3fae51 == _0x40ac4a
      },
      'yLgMR': _0x4df429.vZSGw,
      'yiJft': function (_0x375d56, _0x2e905d) {
        return _0x4df429.sStwH(_0x375d56, _0x2e905d)
      },
      'PJhWr': _0x4df429.GPLdT,
      'tuNeM': '/widgets/plotGroupName/widget.js',
      'kyZBR': _0x4df429['Oppwr'],
      'gbIWq': '新增分组',
      'RNSqK': _0x4df429.BHxVh,
      'Mcxqs': _0x4df429.pATiT,
      'nfFUZ': function (_0x10a94a, _0xe485b4) {
        return _0x10a94a == _0xe485b4
      },
      'yjQEz': 'null',
      'VMoiL': _0x4df429['ayetj'],
      'xPybZ': _0x4df429.hvuUb,
      'zkvVU': function (_0x4fa42c, _0xfdad67) {
        return _0x4df429.rQeHm(_0x4fa42c, _0xfdad67)
      }
    }
    'use strict'
    _0x4df429.xIPfn(_inherits, _0x35132d, _0x570039['widget'].BaseWidget)
    var _0x20cc70 = _createSuper(_0x35132d)

    function _0x35132d() {
      return _classCallCheck(this, _0x35132d), _0x20cc70['apply'](this, arguments)
    }

    return _0x4df429['xIPfn'](_createClass, _0x35132d, [{
      'key': _0x4df429['JqHtS'], 'get': function () {
        return [_0x5c3067['vZlyy'], _0x5c3067.RWPTu, _0x5c3067.hCrmb]
      }
    }, {
      'key': _0x4df429.GZnyc, 'get': function () {
        if (_0x4df429.mwLqR(_0x4df429['HdFiF'], _0x4df429['UxvgL'])) {
          return {
            'type': _0x4df429.KUuph,
            'url': _0x4df429['MeIko'],
            'windowOptions': { 'width': 0xfa, 'position': { 'top': 0x32, 'right': 0x5, 'bottom': 0x5 } }
          }
        } else {
          var _0x2d169e = _0x20cc70.graphic
          _0x20cc70['attr'].name && r.viewWindow && r['viewWindow'].treeWork.updateNode(_0x2d169e)
        }
      }
    }, {
      'key': _0x4df429.KQxHD, 'value': function () {
        var _0x1bdb7 = {
          'gJZMu': _0x5c3067.dqyMo, 'JqJKb': function (_0x452078, _0x3cef16) {
            return _0x452078(_0x3cef16)
          }, 'QjRnH': _0x5c3067.kDvgd, 'MPnpf': _0x5c3067.uJlTS
        }
        if (_0x5c3067.RXOCo!='vQsMi') {
          this.graphicGroupLayer.endDraw()
        } else {
          var _0x4ab5ca = this
          this.storageName = 'mars3d_plot', this.graphicGroupLayer = new _0x570039[('layer')]['GraphicGroupLayer']({
            'name': this.config.name,
            'pid': 0x63,
            'defaultLayer': '默认分组',
            'isRestorePositions': !0x1,
            'hasEdit': !0x1
          }), this.map.addLayer(this.graphicGroupLayer)
          var _0x29e49c = this
          this['graphicGroupLayer']['bindContextMenu']([{
            'text': _0x5c3067.nkmYA,
            'iconCls': _0x5c3067.VFdGo,
            'callback': function (_0x2c76b9) {
              _0x2c76b9 = _0x2c76b9.graphic
              _0x2c76b9 && _0x29e49c.deleteEntity(_0x2c76b9)
            }
          }]), this.graphicGroupLayer['on'](_0x570039.EventType.drawCreated, function (_0x4bf26f) {
            if (_0x5c3067.ApwSO !== _0x5c3067['ApwSO']) {
              return !0x1
            } else {
              _0x4ab5ca['showLayerTree']()
              _0x4bf26f = _0x4bf26f.graphic
              _0x4ab5ca.startEditing(_0x4bf26f)
            }
          }), this.graphicGroupLayer['on'](_0x570039['EventType']['load'], function (_0x8bc416) {
            haoutil.loading.hide()
          }), this.graphicGroupLayer['on'](_0x570039.EventType.editStart, function (_0xe51d88) {
            _0xe51d88 = _0xe51d88.graphic
            _0x4ab5ca['startEditing'](_0xe51d88)
          }), this.graphicGroupLayer['on'](_0x570039.EventType.editMovePoint, function (_0x5dbda1) {
            _0x5dbda1 = _0x5dbda1.graphic
            _0x4ab5ca.startEditing(_0x5dbda1)
          }), this.graphicGroupLayer['on'](_0x570039['EventType'].editRemovePoint, function (_0x47d8f3) {
            _0x47d8f3 = _0x47d8f3.graphic
            _0x4ab5ca.startEditing(_0x47d8f3)
          }), this.graphicGroupLayer['on'](_0x570039.EventType['editStop'], function (_0x2a37f1) {
            _0x2a37f1 = _0x2a37f1.graphic
            _0x4ab5ca.stopEditing(), _0x4ab5ca.sendSaveEntity(_0x2a37f1), _0x4ab5ca.showLayerTree()
          }), this.graphicGroupLayer['on'](_0x570039.EventType.updateAttr, function (_0xdfb087) {
            var _0x326f8b = _0xdfb087.graphic
            _0xdfb087.attr.name && _0x4ab5ca.viewWindow && _0x4ab5ca.viewWindow['treeWork'].updateNode(_0x326f8b)
          }), this.graphicGroupLayer['on'](_0x570039['EventType']['popupOpen'], function (_0x3c3de2) {
            var _0x54497e = {
              'IBeXC': function (_0x167ffb, _0x5ed23b) {
                return _0x167ffb(_0x5ed23b)
              }, 'cswbQ': _0x1bdb7['QjRnH']
            }
            if (_0x1bdb7.MPnpf === 'pgzfs') {
              var _0x8eef53, _0x536813 = _0x3c3de2['container'].querySelector('.mars3d-popup-btn')
              _0x536813 && (_0x8eef53 = _0x3c3de2.graphic, _0x536813['addEventListener']('click', function (_0x477f3a) {
                if (_0x1bdb7.gJZMu === 'DGRvM') {
                  return (_0x477f3a || this['graphicGroupLayer']).toGeoJSON()
                } else {
                  _0x1bdb7.JqJKb($, '.mars3d-popup-edititem').each(function () {
                    var _0x443274 = $(this).val(),
                      _0x54dd31 = _0x54497e.IBeXC($, this).attr(_0x54497e.cswbQ)
                    _0x8eef53.attr[_0x54dd31] = _0x443274
                  }), _0x4ab5ca.map.closePopup()
                }
              }))
            } else {
              this.viewWindow && this.isActivate && (this.viewWindow['treeWork'].loadData(this.graphicGroupLayer.getLayers()), this.sendSaveEntity())
            }
          }), this.sendGetList()
        }
      }
    }, {
      'key': _0x4df429.vcKeE, 'value': function (_0x50f1cf, _0x42e7fa) {
        this.viewWindow = _0x42e7fa
      }
    }, {
      'key': _0x4df429['rdmHj'], 'value': function () {
        var _0x3641cd = {
          'ojvee': function (_0x298568, _0x512f3b) {
            return _0x298568 != _0x512f3b
          }, 'gxxiI': 'function', 'VLBZC': function (_0x3955d1, _0x534ddf) {
            return _0x4df429.mwLqR(_0x3955d1, _0x534ddf)
          }
        }
        if (_0x4df429.UrdXX('zTzAZ', _0x4df429['MIhgy'])) {
          this.graphicGroupLayer.hasEdit = !0x0
        } else {
          if (_0x3641cd.ojvee(_0x3641cd.gxxiI, typeof _0x35132d) && _0x3641cd['VLBZC'](null, _0x35132d)) throw new TypeError('Super expression must either be null or a function')
          _0x20cc70.prototype = Object.create(_0x35132d && _0x35132d['prototype'], {
            'constructor': {
              'value': _0x20cc70,
              'writable': !0x0,
              'configurable': !0x0
            }
          }), _0x35132d && _setPrototypeOf(_0x20cc70, _0x35132d)
        }
      }
    }, {
      'key': 'disable', 'value': function () {
        if (_0x4df429.UrdXX(_0x4df429.IrreO, 'ukjNv')) {
          this.stopEditing(), this.graphicGroupLayer.stopDraw(), this.graphicGroupLayer['hasEdit'] = !0x1, this.options.hasClear && this.deleteAll(), this['viewWindow'] = null
        } else {
          this.graphicGroupLayer['hasEdit'] = _0x20cc70
        }
      }
    }, {
      'key': _0x4df429.LkjiA, 'value': function (_0x4ef06d) {
        return _0x5c3067.xkHfN(getGraphicDefStyle, _0x4ef06d)
      }
    }, {
      'key': 'updateTemplateValues', 'value': function (_0x5a2a0a) {
        return this.map.options['templateValues'] ? _0x570039.Util['template'](_0x5a2a0a, this.map.options.templateValues) : _0x5a2a0a
      }
    }, {
      'key': _0x4df429.czzgx, 'value': function (_0x2a1822) {
        this['graphicGroupLayer'].hasEdit = _0x2a1822
      }
    }, {
      'key': _0x4df429.jynXk, 'value': function (_0x4ee2f0) {
        if (_0x5c3067.wFLOd(_0x5c3067.OWbzv, _0x5c3067['ceJYm'])) {
          _0x4ee2f0.remove(), this.sendDeleteEntity(_0x4ee2f0), this.showLayerTree()
        } else {
          _0x4ee2f0 ? this.graphicGroupLayer.bindPopup(function (_0x436910) {
            _0x436910 = _0x436910.graphic
            return _0x570039.Util['getTemplateHtml']({
              'title': _0x5c3067['NZhbT'],
              'template': [{ 'field': _0x5c3067.ocoau, 'name': '名称' }, {
                'field': 'address',
                'name': '地址'
              }, { 'field': 'phone', 'name': '电话' }, {
                'field': _0x5c3067.Vmhvz,
                'name': '备注',
                'type': _0x5c3067.xRXiB
              }, { 'name': '确定', 'type': _0x5c3067.CiXPL }],
              'attr': _0x436910.attr,
              'edit': !0x0,
              'width': 0xbe
            })
          }) : this.graphicGroupLayer.unbindPopup()
        }
      }
    }, {
      'key': _0x4df429.NNnEI, 'value': function (_0x5c65cf) {
        switch (haoutil.loading['hide'](), _0x5c65cf.type) {
          case _0x4df429.pnDVM:
            _0x5c65cf.drawShow = !0x0, haoutil.loading.show()
            break
          case _0x4df429.qPEai:
          case 'font-point':
          case _0x4df429.aAwCn:
            _0x5c65cf.drawShow = !0x0
        }
        console.log(_0x4df429.NBPiT, JSON.stringify(_0x5c65cf)), this.graphicGroupLayer.startDraw(_0x5c65cf)
      }
    }, {
      'key': _0x4df429['uCZgH'], 'value': function () {
        if (_0x5c3067.svYva(_0x5c3067.JErqT, _0x5c3067.vGdWB)) {
          haoutil.loading.hide()
        } else {
          this.graphicGroupLayer.endDraw()
        }
      }
    }, {
      'key': 'startEditingById', 'value': function (_0x10deb7) {
        var _0x951a5 = {
          'kJJav': function (_0x42edec, _0xc85e1d) {
            return _0x5c3067['juwfj'](_0x42edec, _0xc85e1d)
          }, 'fvXuU': function (_0x2fbc9e, _0x570093) {
            return (_0x2fbc9e!=_0x570093)
          }, 'tIpth': 'symbol'
        }
        if (_0x5c3067.oKcUT !== 'bHIWN') {
          _0x10deb7 = this.graphicGroupLayer.getGraphicById(_0x10deb7)
          null != _0x10deb7 && (_0x10deb7['flyTo'](), this.graphicGroupLayer.startEditing(_0x10deb7))
        } else {
          return (_typeof = _0x5c3067['oFmBZ'](_0x5c3067.TdTuK, typeof Symbol) && _0x5c3067.oFmBZ(_0x5c3067['LQPUa'], typeof Symbol.iterator) ? function (_0x2a894c) {
            return typeof _0x2a894c
          } : function (_0x3f7c56) {
            return _0x3f7c56 && _0x951a5.kJJav('function', typeof Symbol) && _0x3f7c56.constructor === Symbol && _0x951a5['fvXuU'](_0x3f7c56, Symbol.prototype) ? _0x951a5['tIpth'] : typeof _0x3f7c56
          })(_0x10deb7)
        }
      }
    }, {
      'key': _0x4df429.RvOwP, 'value': function (_0x45311f) {
        var _0x468073
        clearTimeout(this['timeTik']), null != this.viewWindow && ((_0x468073 = _0x570039.widget.getClass('/widgets/plotAttr/widget.js')) && _0x468073.isActivate ? _0x468073.startEditing(_0x45311f, _0x45311f.coordinates) : _0x570039['widget']['activate']({
          'uri': '/widgets/plotAttr/widget.js',
          'graphic': _0x45311f,
          'lonlats': _0x45311f.coordinates
        }))
      }
    }, {
      'key': _0x4df429.RTdUU, 'value': function () {
        var _0x19431d = {
          'hVaaR': function (_0x1e25f3, _0x462612) {
            return _0x4df429.OsOYl(_0x1e25f3, _0x462612)
          },
          'KfThg': _0x4df429.bRMtc,
          'GdYDq': _0x4df429['HeRxW'],
          'QZswK': 'click',
          'VjSBz': '/widgets/plotAttr/widget.js'
        }
        if (_0x4df429.ySTdq(_0x4df429.tIMdH, _0x4df429.tIMdH)) {
          var _0xf368a6 = {
            'LduCF': function (_0x18f948, _0x5af012) {
              return _0x19431d.hVaaR(_0x18f948, _0x5af012)
            }, 'BrCRK': 'data-type', 'HYYLo': _0x19431d['KfThg']
          }
          var _0x3f9a25, _0x288ab5 = _0x20cc70.container.querySelector(_0x19431d.GdYDq)
          _0x288ab5 && (_0x3f9a25 = _0x20cc70['graphic'], _0x288ab5.addEventListener(_0x19431d.QZswK, function (_0x2b94d0) {
            $(_0xf368a6['HYYLo']).each(function () {
              var _0x52bb9e = $(this).val(),
                _0x4e0b80 = _0xf368a6.LduCF($, this).attr(_0xf368a6.BrCRK)
              _0x3f9a25.attr[_0x4e0b80] = _0x52bb9e
            }), r['map'].closePopup()
          }))
        } else {
          this.timeTik = _0x4df429.xIPfn(setTimeout, function () {
            _0x570039['widget'].disable(_0x19431d.VjSBz)
          }, 0xc8)
        }
      }
    }, {
      'key': 'flyTo', 'value': function (_0x32acba) {
        this.map.flyToGraphic(_0x32acba, { 'scale': 1.9, 'radius': 0x3e8 })
      }
    }, {
      'key': 'getGeoJson', 'value': function (_0xe11911) {
          return (_0xe11911 || this.graphicGroupLayer.toGeoJSON()

      }
    }, {
      'key': 'downloadJson', 'value': function (_0x38c875, _0x190051) {
        var _0x481c2d = this.getGeoJson(_0x190051)
        _0x4df429.XORRh(null, _0x481c2d) || _0x481c2d.features && 0x0 == _0x481c2d.features.length ? haoutil['msg'](_0x4df429['QlmHI']) : (_0x190051 = new Date().format(_0x4df429.uOBow), haoutil['file'].downloadFile(_0x4df429.jqxSG(_0x4df429.XFFEc(_0x38c875, '_'), _0x190051) + '.json', JSON['stringify'](_0x481c2d)))
      }
    }, {
      'key': _0x4df429['DbNMR'], 'value': function (_0x5a2e1b) {
        if (_0x5c3067.RRdgA(null, _0x5a2e1b = this.getGeoJson(_0x5a2e1b))) return null
        _0x5a2e1b = haoutil.system['clone'](_0x5a2e1b)
        return kgUtil['toKml'](_0x5a2e1b, {
          'name': _0x5c3067.AMKru,
          'documentName': _0x5c3067.nAwZz,
          'documentDescription': '标绘数据 by mars3d.cn',
          'simplestyle': !0x0
        })
      }
    }, {
      'key': _0x4df429.mxdwu, 'value': function (_0x3b59cc, _0x5a6bb7) {
        var _0x470c48 = {
          'dOHDE': function (_0x502a46, _0x46b511) {
            return _0x4df429.njHMl(_0x502a46, _0x46b511)
          }, 'PFSGo': 'null', 'vhELB': _0x4df429.qtpjJ
        }
        if (_0x4df429.UrdXX(_0x4df429['wGtCD'], _0x4df429.DMIHY)) {
          _0x470c48.dOHDE(null, _0x3b59cc) || _0x470c48['PFSGo'] == _0x3b59cc ? _0x5a6bb7.loadDemoData() : (console.log(_0x470c48.vhELB, _0x3b59cc),
            _0x5a6bb7.loadGeoJSON(_0x3b59cc, {
            'clear': !0x0,
            'flyTo': !0x0
          }))
        } else {
          var _0x157afd = this.toKml(_0x5a6bb7)
          null == _0x157afd ? haoutil['msg'](_0x4df429['QlmHI']) : (_0x5a6bb7 = new Date().format(_0x4df429.uOBow),
            haoutil.file.downloadFile(_0x4df429['kRLcO'](_0x4df429.pVRXe(_0x4df429.pVRXe(_0x3b59cc, '_'), _0x5a6bb7), '.kml'), _0x157afd))
        }
      }
    }, {
      'key': 'loadGeoJSON', 'value': function (url, options) {
          if (null != url) {
            options = this.graphicGroupLayer.loadGeoJSON(url, options)
            return localforage['setItem'](this.storageName, url), this.showLayerTree(), options
          }

    }, {
      'key': _0x4df429.lWJpd, 'value': function () {
        if (_0x5c3067.PUAqA(_0x5c3067.YpJTp, _0x5c3067.YpJTp)) {
          this.stopEditing(), this.graphicGroupLayer.clear(), this.sendDeleteAll(), this.showLayerTree()
        } else {
          for (var _0x571303 = 0x0; _0x5c3067['onxle'](_0x571303, _0x35132d.length); _0x571303++) {
            var _0xce805c = _0x35132d[_0x571303]
            _0xce805c.enumerable = _0xce805c.enumerable || !0x1, _0xce805c.configurable = !0x0, _0x5c3067.xGhQb('value', _0xce805c) && (_0xce805c.writable = !0x0), Object.defineProperty(_0x20cc70, _0xce805c.key, _0xce805c)
          }
        }
      }
    }, {
      'key': 'deleteEntity', 'value': function (_0x19a21e) {
        _0x19a21e.remove(), this.sendDeleteEntity(_0x19a21e), this['showLayerTree']()
      }
    }, {
      'key': _0x4df429.qUCWn, 'value': function (_0x1c590a, _0x120787) {
        for (var _0x39b042 = this['graphicGroupLayer'].getGraphics(), _0x379bde = [], _0x504217 = 0x0, _0x402535 = 0x0; _0x5c3067.IfbEu(_0x402535, _0x39b042.length); _0x402535++) {
          if (_0x5c3067.PUAqA(_0x5c3067.YIzPW, 'LyFIM')) {
            var _0x5ec82a, _0x143efc, _0x132f2b = _0x39b042[_0x402535]
            if (_0x5c3067.RRdgA(_0x5c3067.WgEOx, _0x132f2b['type']) ? _0x143efc = _0x132f2b.text : null !== (_0x5ec82a = _0x132f2b.attr) && _0x5c3067.EfmeR(void 0x0, _0x5ec82a) && _0x5ec82a.name && (_0x143efc = _0x132f2b.attr['name']), _0x5c3067.vEyKC(null, _0x143efc) && _0x5c3067.vEyKC(-0x1, _0x143efc['indexOf'](_0x1c590a)) && (_0x379bde.push({
              'name': _0x143efc,
              'type': _0x5c3067.PKlDh + _0x143efc,
              '_datatype': _0x5c3067.HnwQy,
              '_entity': _0x132f2b
            }), _0x120787 && _0x5c3067['dJpYq'](_0x120787, ++_0x504217))) {
              break
            }
          } else {
            _0x1c590a = _0x1c590a.graphic
            _0x1c590a && _0x120787.deleteEntity(_0x1c590a)
          }
        }
        return _0x379bde
      }
    }, {
      'key': 'showLayerTree', 'value': function () {
        this.viewWindow && this['isActivate'] && (this['viewWindow'].treeWork.loadData(this.graphicGroupLayer.getLayers()), this.sendSaveEntity())
      }
    }, {
      'key': _0x4df429['bnYuN'], 'value': function (_0x43a6db) {
        return !_0x5c3067.dJpYq(this.graphicGroupLayer.length, 0x2) || (haoutil.msg(_0x5c3067.MSLRw), !0x1)
      }
    }, {
      'key': _0x4df429.auXUk, 'value': function (_0xfc2e09) {
        if (_0x4df429.UrdXX(_0x4df429.nEnWv, _0x4df429['zTNJx'])) {
          var _0x3c4688 = {
            'iZmmv': function (_0x5220e3, _0x3cec83) {
              return _0x5c3067.GfSDp(_0x5220e3, _0x3cec83)
            }, 'MEjal': function (_0x49993a, _0x2d40f1, _0x1f313b) {
              return _0x49993a(_0x2d40f1, _0x1f313b)
            }
          }
          var _0x5b070a = _0x5c3067['NdCke'](_isNativeReflectConstruct)
          return function () {
            var _0x18a262, _0x3c0f77 = _0x3c4688.iZmmv(_getPrototypeOf, window)
            return _0x3c4688['MEjal'](_possibleConstructorReturn, this, _0x5b070a ? (_0x18a262 = _0x3c4688.iZmmv(_getPrototypeOf, this).constructor, Reflect.construct(_0x3c0f77, arguments, _0x18a262)) : _0x3c0f77.apply(this, arguments))
          }
        } else {
          return this.graphicGroupLayer.deleteLayer(_0xfc2e09) ? (this.showLayerTree(), haoutil.msg('删除成功！'), !0x0) : (haoutil.msg('删除失败！'), !0x1)
        }
      }
    }, {
      'key': _0x4df429['PAkfV'], 'value': function () {
        this.graphicGroupLayer.length < 0x2 ? haoutil['msg']('不能删除所有图层，需要至少保留1个图层！') : (this.graphicGroupLayer.deleteEmptyLayer(), this['showLayerTree']())
      }
    }, {
      'key': _0x4df429['eATVk'], 'value': function (_0x173b66) {
        if (_0x5c3067.yiJft(_0x5c3067.PJhWr, _0x5c3067.PJhWr)) {
          var _0x6f8c3 = this
          _0x570039.widget.activate({
            'uri': _0x5c3067.tuNeM,
            'name': _0x173b66 ? _0x5c3067['kyZBR'] : _0x5c3067.gbIWq,
            'data': _0x173b66 ? _0x173b66['name'] : '',
            'checkName': function (_0x1f481f) {
              return _0x6f8c3.graphicGroupLayer.hasLayer(_0x1f481f, _0x173b66)
            },
            'callback': function (_0x215118) {
              _0x173b66 ? _0x173b66['name'] = _0x215118 : _0x6f8c3.graphicGroupLayer.createLayer(_0x215118), _0x6f8c3.showLayerTree()
            }
          })
        } else {
          if (_0x5c3067['dThtB'](null, _0x20cc70 = this.getGeoJson(_0x20cc70))) return null
          _0x20cc70 = haoutil.system.clone(_0x20cc70)
          return kgUtil['toKml'](_0x20cc70, {
            'name': _0x5c3067.AMKru,
            'documentName': _0x5c3067.nAwZz,
            'documentDescription': _0x5c3067['yLgMR'],
            'simplestyle': !0x0
          })
        }
      }
    }, {
      'key': 'changeSelectedLayer', 'value': function (_0x35d65a) {

          this['graphicGroupLayer']['selectedLayer'] = _0x35d65a, this.showLayerTree()

      }
    }, {
      'key': 'moveToLayer', 'value': function (_0x4adae4, _0x2c8685) {
        this.graphicGroupLayer.moveToLayer(_0x4adae4, _0x2c8685), this.showLayerTree()
      }
    }, {
      'key': 'sendGetList', 'value': function () {
        var that = this
        window.hasServer || localforage.getItem(this.storageName).then(function (_0x50b86a) {
       (null== _0x50b86a) || 'null' == _0x50b86a ? that.loadDemoData() : (console.log('加载历史缓存数据', _0x50b86a),
            that.loadGeoJSON(_0x50b86a, {
            'clear': !0,
            'flyTo': !0
          }))
        })
      }
    },
      {
      'key': 'sendSaveEntity', 'value': function (_0x444da0) {
          (null!= this.viewWindow) && (console.log('plot:\x20保存了数据'),
          window.hasServer || localforage.setItem(this['storageName'], this.getGeoJson()))

      }
    }, {
      'key': _0x4df429.qpdTV, 'value': function (_0x349e92) {
        window.hasServer || localforage.setItem(this.storageName, this.getGeoJson())
      }
    }, {
      'key':'sendDeleteAll', 'value': function () {
          window.hasServer || localforage.removeItem(this.storageName)
      }
    }, {
      'key':'loadDemoData', 'value': function () {
        var that = this;
        -1 != window['location'].hostname.indexOf('mars') && $.getJSON('//data.mars3d.cn/file/geojson/mars3d-draw.json',
          function (res) {
          that.isActivate && that.loadGeoJSON(res, { 'clear': !0x0, 'flyTo': !0x0 })
        })
      }
    }]), _0x35132d
  }()
  _0x570039['widget']['bindClass'](_0xa6fedf);
}(window, mars3d);